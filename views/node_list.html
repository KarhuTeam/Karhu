{{template "header" "infrastructure"}}
    <div class="breadcrumb">
        All nodes
    </div>
</header>
<main>
    <div class="box text-right">
        <a class="btn" href="/node/add">Add Node</a>
    </div>
    <div class="box-col">
        {{ range .nodes }}
        <div class="box">
            <h2 class="box-title">
                <span class="state state-{{ .Status }}"></span> <span class="select">{{ .Hostname }}</span>
                <span class="box-subtitle">
                    - <span class="select">{{ .IP }}</span>
                </span>
                <a class="right btn btn-small" href="/node/edit/{{ .Id.Hex }}">Edit</a>
                <a class="right btn btn-small" href='/logs?query=host%3A+"{{ .Hostname }}"'>Logs</a>
            </h2>
            <p class="box-text">{{ .Description }}</p>
            <ul class="box-list">
                <li><span class="box-list-label">Created At :</span> {{ .CreatedAt.Format "2006-01-02 15:04:05" }}</li>
                <li><span class="box-list-label">Updated At :</span> {{ .UpdatedAt.Format "2006-01-02 15:04:05" }}</li>
                <li><span class="box-list-label">Status At :</span> {{ .StatusAt.Format "2006-01-02 15:04:05" }}</li>
                <li><span class="box-list-label">Port :</span> {{ .SshPort }}</li>
                <li><span class="box-list-label">User :</span> {{ .SshUser }}</li>
                <li><span class="box-list-label">Tags :</span> {{range $tag := .Tags}}<span class="label">{{$tag}}</span> {{else}}n/a{{end}}</li>
            </ul>
        </div>
        {{ end }}
    </div>
</main>
{{template "footer"}}
